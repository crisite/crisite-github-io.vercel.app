
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8" />
    <title>Docker入门 | Crisite の博客</title>
    <meta name="author" content="Crisite" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://cdn.staticfile.org" />
<script src="https://cdn.staticfile.org/vue/3.3.4/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css" />
<link rel="preconnect" href="https://fonts.loli.net" />
<link rel="preconnect" href="https://gstatic.loli.net" crossorigin />
<link rel="stylesheet" href="https://fonts.loli.net/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.8.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>CRISITE の博客</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;CRISITE の博客</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
  <!-- Table of Contents -->
  <aside>
    <div id="toc" class="toc-article">
      <strong class="toc-title">文章目录</strong>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E7%9A%84%E4%B8%89%E4%B8%AA%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">Docker的三个概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E9%95%9C%E5%83%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">2.</span> <span class="toc-text">Docker镜像生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E5%92%8C%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.</span> <span class="toc-text">Docker和虚拟机的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="toc-number">4.</span> <span class="toc-text">Docker基本命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E7%AE%A1%E7%90%86"><span class="toc-number">4.1.</span> <span class="toc-text">镜像管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86"><span class="toc-number">4.2.</span> <span class="toc-text">容器管理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Dockerfile"><span class="toc-number">5.</span> <span class="toc-text">Dockerfile</span></a></li></ol>
    </div>
  </aside>
  <div>
    <h1>Docker入门</h1>
  </div>
  <div class="info">
    <span class="date">
      <span class="icon">
        <i class="fa-solid fa-calendar fa-fw"></i>
      </span>
      2024/3/3
    </span>
     
    <span class="tags">
      <span class="icon">
        <i class="fa-solid fa-tags fa-fw"></i>
      </span>
       
      <span class="tag">
        
        <a href="/tags/Docker/" style="color: #03a9f4"
          >Docker</a
        >
      </span>
      
    </span>
    
  </div>
  
  <div class="content" v-pre><p>Docker相关知识入门</p>
<p>Docker的目标 “Build, Ship and Run any App, any where” 构建，运输，处处运行</p>
<span id="more"></span>

<h2 id="Docker的三个概念"><a href="#Docker的三个概念" class="headerlink" title="Docker的三个概念"></a>Docker的三个概念</h2><ul>
<li>镜像（image）：镜为了向后兼容，在注释 （） 和 指令（如像是一个包含有文件系统的面向Docker引擎的只读模版。任何应用程序运行都需要环境，而镜像就是用来提供这种环境的。例如一个Ubuntu镜像就是一个包含Ubuntu操作系统环境的模版</li>
<li>容器（container）：一个轻量级的沙盒，可以将其看做一个极简的Linux系统环境（包括root权限、进程空间、用户空间和网络空间等）以及运行在其中的应用程序。Docker引擎利用容器来运行、隔离各个应用。容器是镜像创建的应用实例，可以创建、启动、停止、删除容器。各个容器之间时相互隔离的，互不影响。（镜像本身是只读的，容器从镜像上启动时，Docker在镜像层的上层创建一个可写层，镜像本身不变）</li>
<li>仓库（Repository）：镜像仓库是Docker用来存放镜像文件的地方。仓库和注册服务器（registry）的区别是：注册服务器是存放仓库的地方，注册服务器可以存放多个仓库；而仓库是存放在镜像的地方，一般每个仓库存放一类镜像，每个镜像利用tag进行区分，比如Ubuntu仓库存放多个版本的Ubuntu镜像</li>
</ul>
<p>其他~</p>
<ul>
<li>主机（Host）：一个物理或虚拟机用于执行 Docker 守护进程和容器</li>
<li>注册服务器（register）：Docker Hub(<a target="_blank" rel="noopener" href="https://hub.docker.com/">https://hub.docker.com</a>) 提供了庞大的镜像集合供使用。</li>
</ul>
<h2 id="Docker镜像生命周期"><a href="#Docker镜像生命周期" class="headerlink" title="Docker镜像生命周期"></a>Docker镜像生命周期</h2><p>如下~</p>
<p><img src="https://crisite-img.oss-cn-hangzhou.aliyuncs.com/img/image-20240303230631888.png" alt="image-20240303230630395"></p>
<h2 id="Docker和虚拟机的区别"><a href="#Docker和虚拟机的区别" class="headerlink" title="Docker和虚拟机的区别"></a>Docker和虚拟机的区别</h2><p><img src="https://crisite-img.oss-cn-hangzhou.aliyuncs.com/img/image-20240304030745156.png" alt="image-20240304030745156"></p>
<p><img src="https://crisite-img.oss-cn-hangzhou.aliyuncs.com/img/image-20240304030758384.png" alt="image-20240304030758384"></p>
<p>虚拟机是在操作系统上再运行一个新的操作系统，再新的系统上再运行所需应用进程；而<code>Docker Engine</code>只包含应用程序和所需依赖，它作为主机操作系统上用户空间中的隔离进程运行，与其他容器共享内核。因此，容器化更具有可移植性和效率</p>
<h2 id="Docker基本命令"><a href="#Docker基本命令" class="headerlink" title="Docker基本命令"></a>Docker基本命令</h2><h3 id="镜像管理"><a href="#镜像管理" class="headerlink" title="镜像管理"></a>镜像管理</h3><pre><code class="sh"># 首先 搜索镜像
docker search 镜像名
# 拉取镜像 如果没有指定版本号则默认lastest版本
docker pull 镜像名/版本号
# 导出镜像
docker image save centos &gt; docker-centos.tar.gz
# 删除镜像
docker image rm centos
# 导入镜像
docker image load -i docker-centos.tar.gz
# 查看镜像信息
docker image inspect centos
</code></pre>
<h3 id="容器管理"><a href="#容器管理" class="headerlink" title="容器管理"></a>容器管理</h3><pre><code class="sh"># 运行一个容器 docker run实际上执行了两个api：/containers/create、/containers/(id)/start
docker run --name xxl-job-admin -p 8080:8080 -d xuxueli/xxl-job-admin
</code></pre>
<p>docker run常用参数：</p>
<table>
<thead>
<tr>
<th>option</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-i</td>
<td>以交互模式运行容器，通常与 -t 同时使用</td>
</tr>
<tr>
<td>-t</td>
<td>启动容器后，为容器分配一个命令行，通常与 -i 同时使用</td>
</tr>
<tr>
<td>-v</td>
<td>目录映射，容器目录挂载到宿主机目录，格式： &lt;host目录&gt;:&lt;容器目录&gt;</td>
</tr>
<tr>
<td>-d</td>
<td>守护进程，后台运行该容器</td>
</tr>
<tr>
<td>-p</td>
<td>指定端口映射，格式：主机(宿主)端口:容器端口</td>
</tr>
<tr>
<td>-P</td>
<td>随机端口映射，容器内部端口随机映射到主机的端口（49153起始 49153到65535）</td>
</tr>
<tr>
<td>-u</td>
<td>以什么用户身份创建容器</td>
</tr>
<tr>
<td>–name</td>
<td>“nginx-lb” 容器名字</td>
</tr>
<tr>
<td>-m,–memory bytes</td>
<td>设置容器使用内存最大值</td>
</tr>
<tr>
<td>-h, –hostname string</td>
<td>指定容器的 host name</td>
</tr>
<tr>
<td>–dns 8.8.8.8</td>
<td>指定容器 dns 服务器</td>
</tr>
<tr>
<td>-e username&#x3D;“crisite”</td>
<td>设置环境变量</td>
</tr>
<tr>
<td>–restart Docker</td>
<td>重启后，容器是否自动重启</td>
</tr>
<tr>
<td>–privileged</td>
<td>容器内是否使用真正的 root 权限</td>
</tr>
</tbody></table>
<pre><code class="sh"># 查看正在运行的容器
docker container ls
docker ps
# 查看容器详细信息
docker container inspect 容器名称/id
# 查看所有容器
docker ps -a
</code></pre>
<blockquote>
<p>普通用户权限运行docker</p>
<pre><code class="sh">// 添加docker组
sudo groupadd docker
// 将xx用户添加到docker用户组
sudo usermod -aG docker $user
// 更新并激活组权限
newgrp docker
// 查看group
groups
</code></pre>
</blockquote>
<h2 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h2><blockquote>
<p>undo~</p>
</blockquote>
<blockquote>
<p>参考文献：</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/683051939">深入理解 Docker Run 命令：从入门到精通</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/23599229">只要一小时，零基础入门Docker</a></p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1885678">史上讲解最好的 Docker 教程，从入门到精通（建议收藏的教程）</a></p>
</blockquote>
</div>
        
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2024 Crisite の博客
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;Crisite
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    




    
</body>
</html>
